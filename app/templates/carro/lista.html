{% extends 'base.html' %}
{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/carro/styleList.css') }}">
    <script type="text/javascript" src="{{ url_for('static', filename='plugins/pagination/dataCar.js') }}"></script>
{% endblock %}
{% block conteudo %}
    <div class="container-form centralizar">
        <div class="container colorCont">
            <div class="page-container">
                <div class="container">
                    <div id="listaCarros"></div>
                </div>
            </div>
        </div>
    </div>

    {% block script %}
        <script>
            var table = $('#listaCarros').tableSortable({
                data: dataCar,
                columns: columnsCar,
                searchField: '#searchField',
                responsive: {
                    1100: {
                        columns: {
                            formCode: 'Form Code',
                            formName: 'Form Name',
                        },
                    },
                },
                rowsPerPage: 10,
                pagination: true,
                tableWillMount: function() {
                    console.log('table will mount')
                },
                tableDidMount: function() {
                    console.log('table did mount')
                },
                tableWillUpdate: function() {console.log('table will update')},
                tableDidUpdate: function() {console.log('table did update')},
                tableWillUnmount: function() {console.log('table will unmount')},
                tableDidUnmount: function() {console.log('table did unmount')},
                onPaginationChange: function(nextPage, setPage) {
                    setPage(nextPage);
                }
            });

            $('#changeRows').on('change', function() {
                table.updateRowsPerPage(parseInt($(this).val(), 10));
            })

            $('#rerender').click(function() {
                table.refresh(true);
            })

            $('#distory').click(function() {
                table.distroy();
            })

            $('#refresh').click(function() {
                table.refresh();
            })

            $('#setPage2').click(function() {
                table.setPage(1);
            })
        </script>
    {% endblock %}
{% endblock %}